<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><title>Intro Bash | Classroom</title><link href=/img/avatar.jpeg rel="shortcut icon" type=image/x-icon><meta name=author content="Animesh Roy"><meta name=description content><script data-ad-client=ca-pub-3526678290068011 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script data-ad-client=ca-pub-3526678290068011 async src=https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-NZBEX7RBNF"></script><script>window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag('js',new Date),gtag('config','G-NZBEX7RBNF')</script><script type=text/javascript>(function(a,e,b,f,g,c,d){a[b]=a[b]||function(){(a[b].q=a[b].q||[]).push(arguments)},c=e.createElement(f),c.async=1,c.src="https://www.clarity.ms/tag/"+g,d=e.getElementsByTagName(f)[0],d.parentNode.insertBefore(c,d)})(window,document,"clarity","script","6gp5990ghr")</script><link rel=canonical href=https://classroom.anir0y.in/post/intro-bash/><meta property="og:title" content="Intro Bash"><meta property="og:description" content="Getting started {: .-three-column}
Introduction {: .-intro}
This is a quick reference to getting started with Bash scripting.
 Learn bash in y minutes (learnxinyminutes.com) Bash Guide (mywiki.wooledge.org)  Example #!/usr/bin/env bash  NAME=&#34;John&#34; echo &#34;Hello $NAME!&#34; Variables NAME=&#34;John&#34; echo $NAME echo &#34;$NAME&#34; echo &#34;${NAME}!&#34; String quotes NAME=&#34;John&#34; echo &#34;Hi $NAME&#34; #=> Hi John echo 'Hi $NAME' #=> Hi $NAME Shell execution echo &#34;I'm in $(pwd)&#34; echo &#34;I'm in `pwd`&#34; # Same See Command substitution"><meta property="og:type" content="article"><meta property="og:url" content="https://classroom.anir0y.in/post/intro-bash/"><meta property="article:section" content="post"><meta property="article:published_time" content="2021-04-03T18:54:43+05:30"><meta property="article:modified_time" content="2021-04-03T18:54:43+05:30"><meta name=twitter:card content="summary"><meta name=twitter:title content="Intro Bash"><meta name=twitter:description content="Getting started {: .-three-column}
Introduction {: .-intro}
This is a quick reference to getting started with Bash scripting.
 Learn bash in y minutes (learnxinyminutes.com) Bash Guide (mywiki.wooledge.org)  Example #!/usr/bin/env bash  NAME=&#34;John&#34; echo &#34;Hello $NAME!&#34; Variables NAME=&#34;John&#34; echo $NAME echo &#34;$NAME&#34; echo &#34;${NAME}!&#34; String quotes NAME=&#34;John&#34; echo &#34;Hi $NAME&#34; #=> Hi John echo 'Hi $NAME' #=> Hi $NAME Shell execution echo &#34;I'm in $(pwd)&#34; echo &#34;I'm in `pwd`&#34; # Same See Command substitution"><link rel=stylesheet href=/css/semantic.min.css><link rel=stylesheet href=/css/icomoon.css><link rel=stylesheet href=/css/OverlayScrollbars.min.css><link rel=stylesheet href=/css/github-markdown.css><link rel=stylesheet href=/css/site.css><style>a:not(.ui.button):hover{text-decoration:underline}a:not(.ui.button){color:#2e8b57!important}.inverted a:not(.ui.button),.inverted a:not(.ui.button):hover{color:#8fbc8f!important}body.default{background-color:#fff}body.dark{background-color:#000}</style><link rel=stylesheet data-highlight href=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/tomorrow.min.css><link rel=stylesheet href=/css/custom.css></head><body class=default><nav class="ui secondary menu dream-menu"><div class=item><i class="large link bullseye icon dream-flip-toggle" title="Flip it!"></i></div><div class=item><i class="large link home icon" title=Home onclick="window.location.href='https://classroom.anir0y.in'"></i></div><div class=item><i class="large link icon theme-switch" onclick=themeSwitch()></i></div><div class=item><i class="large link search icon" onclick=toggleSearch()></i></div></nav><div class=flip-container><div class=flipper><section class=front><div class=dream-max-width><div class="ui relaxed grid dream-grid dream-grid-single" style=flex-direction:row-reverse><aside class="sixteen wide mobile sixteen wide tablet four wide computer column dream-single-aside"><div class="ui segment toc"><nav id=TableOfContents><ul><li><a href=#getting-started>Getting started</a><ul><li><a href=#introduction>Introduction</a></li><li><a href=#example>Example</a></li><li><a href=#variables>Variables</a></li><li><a href=#string-quotes>String quotes</a></li><li><a href=#shell-execution>Shell execution</a></li><li><a href=#conditional-execution>Conditional execution</a></li><li><a href=#functions>Functions</a></li><li><a href=#conditionals>Conditionals</a></li><li><a href=#strict-mode>Strict mode</a></li><li><a href=#brace-expansion>Brace expansion</a></li></ul></li><li><a href=#parameter-expansions>Parameter expansions</a><ul><li><a href=#basics>Basics</a></li><li><a href=#substitution>Substitution</a></li><li><a href=#comments>Comments</a></li><li><a href=#substrings>Substrings</a></li><li><a href=#length>Length</a></li><li><a href=#manipulation>Manipulation</a></li><li><a href=#default-values>Default values</a></li></ul></li><li><a href=#loops>Loops</a><ul><li><a href=#basic-for-loop>Basic for loop</a></li><li><a href=#c-like-for-loop>C-like for loop</a></li><li><a href=#ranges>Ranges</a></li><li><a href=#reading-lines>Reading lines</a></li><li><a href=#forever>Forever</a></li></ul></li><li><a href=#functions-1>Functions</a><ul><li><a href=#defining-functions>Defining functions</a></li><li><a href=#returning-values>Returning values</a></li><li><a href=#raising-errors>Raising errors</a></li><li><a href=#arguments>Arguments</a></li></ul></li><li><a href=#conditionals-1>Conditionals</a><ul><li><a href=#conditions>Conditions</a></li><li><a href=#file-conditions>File conditions</a></li><li><a href=#example-1>Example</a></li></ul></li><li><a href=#arrays>Arrays</a><ul><li><a href=#defining-arrays>Defining arrays</a></li><li><a href=#working-with-arrays>Working with arrays</a></li><li><a href=#operations>Operations</a></li><li><a href=#iteration>Iteration</a></li></ul></li><li><a href=#dictionaries>Dictionaries</a><ul><li><a href=#defining>Defining</a></li><li><a href=#working-with-dictionaries>Working with dictionaries</a></li><li><a href=#iteration-1>Iteration</a></li></ul></li><li><a href=#options>Options</a><ul><li><a href=#options-1>Options</a></li><li><a href=#glob-options>Glob options</a></li></ul></li><li><a href=#history>History</a><ul><li><a href=#commands>Commands</a></li><li><a href=#expansions>Expansions</a></li><li><a href=#operations-1>Operations</a></li><li><a href=#slices>Slices</a></li></ul></li><li><a href=#miscellaneous>Miscellaneous</a><ul><li><a href=#numeric-calculations>Numeric calculations</a></li><li><a href=#subshells>Subshells</a></li><li><a href=#redirection>Redirection</a></li><li><a href=#inspecting-commands>Inspecting commands</a></li><li><a href=#trap-errors>Trap errors</a></li><li><a href=#caseswitch>Case/switch</a></li><li><a href=#source-relative>Source relative</a></li><li><a href=#printf>printf</a></li><li><a href=#directory-of-script>Directory of script</a></li><li><a href=#getting-options>Getting options</a></li><li><a href=#heredoc>Heredoc</a></li><li><a href=#reading-input>Reading input</a></li><li><a href=#special-variables>Special variables</a></li><li><a href=#go-to-previous-directory>Go to previous directory</a></li><li><a href=#check-for-commands-result>Check for command&rsquo;s result</a></li><li><a href=#grep-check>Grep check</a></li></ul></li><li><a href=#also-see>Also see</a></li></ul></nav></div><div class="ui segment actions"><button class="ui circular icon button save-as-image" title="Save as image" onclick=savePostAsImg()>
<i class="save icon"></i></button>
<a href="https://twitter.com/intent/tweet?text=Intro%20Bash&url=https%3a%2f%2fclassroom.anir0y.in%2fpost%2fintro-bash%2f" class="ui circular twitter icon button"><i class="twitter icon"></i></a>
<a href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fclassroom.anir0y.in%2fpost%2fintro-bash%2f" class="ui circular facebook icon button"><i class="facebook icon"></i></a></div></aside><div class="sixteen wide mobile sixteen wide tablet twelve wide computer column markdown-body dream-single" id=dream-save-post-as-img><section class="ui top attached segment"><header><h1 class="ui large header">Intro Bash<div class="sub header">@
<a href=https://anir0y.in target=_blank>Animesh Roy</a>
|
Saturday, Apr 3, 2021
| 9 minutes read
| Update at
Saturday, Apr 3, 2021</div></h1></header><article class=main><h2 id=getting-started>Getting started</h2><p>{: .-three-column}</p><h3 id=introduction>Introduction</h3><p>{: .-intro}</p><p>This is a quick reference to getting started with Bash scripting.</p><ul><li><a href=https://learnxinyminutes.com/docs/bash/>Learn bash in y minutes</a> <em>(learnxinyminutes.com)</em></li><li><a href=http://mywiki.wooledge.org/BashGuide>Bash Guide</a> <em>(mywiki.wooledge.org)</em></li></ul><h3 id=example>Example</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e>#!/usr/bin/env bash
</span><span style=color:#75715e></span>
NAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;John&#34;</span>
echo <span style=color:#e6db74>&#34;Hello </span>$NAME<span style=color:#e6db74>!&#34;</span>
</code></pre></div><h3 id=variables>Variables</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>NAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;John&#34;</span>
echo $NAME
echo <span style=color:#e6db74>&#34;</span>$NAME<span style=color:#e6db74>&#34;</span>
echo <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>NAME<span style=color:#e6db74>}</span><span style=color:#e6db74>!&#34;</span>
</code></pre></div><h3 id=string-quotes>String quotes</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>NAME<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;John&#34;</span>
echo <span style=color:#e6db74>&#34;Hi </span>$NAME<span style=color:#e6db74>&#34;</span>  <span style=color:#75715e>#=&gt; Hi John</span>
echo <span style=color:#e6db74>&#39;Hi $NAME&#39;</span>  <span style=color:#75715e>#=&gt; Hi $NAME</span>
</code></pre></div><h3 id=shell-execution>Shell execution</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>&#34;I&#39;m in </span><span style=color:#66d9ef>$(</span>pwd<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
echo <span style=color:#e6db74>&#34;I&#39;m in `pwd`&#34;</span>
<span style=color:#75715e># Same</span>
</code></pre></div><p>See <a href=http://wiki.bash-hackers.org/syntax/expansion/cmdsubst>Command substitution</a></p><h3 id=conditional-execution>Conditional execution</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>git commit <span style=color:#f92672>&amp;&amp;</span> git push
git commit <span style=color:#f92672>||</span> echo <span style=color:#e6db74>&#34;Commit failed&#34;</span>
</code></pre></div><h3 id=functions>Functions</h3><p>{: id=&lsquo;functions-example&rsquo;}</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>get_name<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
  echo <span style=color:#e6db74>&#34;John&#34;</span>
<span style=color:#f92672>}</span>

echo <span style=color:#e6db74>&#34;You are </span><span style=color:#66d9ef>$(</span>get_name<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><p>See: <a href=#functions>Functions</a></p><h3 id=conditionals>Conditionals</h3><p>{: id=&lsquo;conditionals-example&rsquo;}</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> -z <span style=color:#e6db74>&#34;</span>$string<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;String is empty&#34;</span>
<span style=color:#66d9ef>elif</span> <span style=color:#f92672>[[</span> -n <span style=color:#e6db74>&#34;</span>$string<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;String is not empty&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><p>See: <a href=#conditionals>Conditionals</a></p><h3 id=strict-mode>Strict mode</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>set -euo pipefail
IFS<span style=color:#f92672>=</span><span style=color:#e6db74>$&#39;\n\t&#39;</span>
</code></pre></div><p>See: <a href=http://redsymbol.net/articles/unofficial-bash-strict-mode/>Unofficial bash strict mode</a></p><h3 id=brace-expansion>Brace expansion</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#f92672>{</span>A,B<span style=color:#f92672>}</span>.js
</code></pre></div><table><thead><tr><th>Expression</th><th>Description</th></tr></thead><tbody><tr><td><code>{A,B}</code></td><td>Same as <code>A B</code></td></tr><tr><td><code>{A,B}.js</code></td><td>Same as <code>A.js B.js</code></td></tr><tr><td><code>{1..5}</code></td><td>Same as <code>1 2 3 4 5</code></td></tr></tbody></table><p>See: <a href=http://wiki.bash-hackers.org/syntax/expansion/brace>Brace expansion</a></p><h2 id=parameter-expansions>Parameter expansions</h2><p>{: .-three-column}</p><h3 id=basics>Basics</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>name<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;John&#34;</span>
echo <span style=color:#e6db74>${</span>name<span style=color:#e6db74>}</span>
echo <span style=color:#e6db74>${</span>name/J/j<span style=color:#e6db74>}</span>    <span style=color:#75715e>#=&gt; &#34;john&#34; (substitution)</span>
echo <span style=color:#e6db74>${</span>name:0:2<span style=color:#e6db74>}</span>    <span style=color:#75715e>#=&gt; &#34;Jo&#34; (slicing)</span>
echo <span style=color:#e6db74>${</span>name::2<span style=color:#e6db74>}</span>     <span style=color:#75715e>#=&gt; &#34;Jo&#34; (slicing)</span>
echo <span style=color:#e6db74>${</span>name:<span style=color:#66d9ef>:-</span>1<span style=color:#e6db74>}</span>    <span style=color:#75715e>#=&gt; &#34;Joh&#34; (slicing)</span>
echo <span style=color:#e6db74>${</span>name:(-1)<span style=color:#e6db74>}</span>   <span style=color:#75715e>#=&gt; &#34;n&#34; (slicing from right)</span>
echo <span style=color:#e6db74>${</span>name:(-2):1<span style=color:#e6db74>}</span> <span style=color:#75715e>#=&gt; &#34;h&#34; (slicing from right)</span>
echo <span style=color:#e6db74>${</span>food<span style=color:#66d9ef>:-</span>Cake<span style=color:#e6db74>}</span>  <span style=color:#75715e>#=&gt; $food or &#34;Cake&#34;</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>length<span style=color:#f92672>=</span><span style=color:#ae81ff>2</span>
echo <span style=color:#e6db74>${</span>name:0:length<span style=color:#e6db74>}</span>  <span style=color:#75715e>#=&gt; &#34;Jo&#34;</span>
</code></pre></div><p>See: <a href=http://wiki.bash-hackers.org/syntax/pe>Parameter expansion</a></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>STR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/path/to/foo.cpp&#34;</span>
echo <span style=color:#e6db74>${</span>STR%.cpp<span style=color:#e6db74>}</span>    <span style=color:#75715e># /path/to/foo</span>
echo <span style=color:#e6db74>${</span>STR%.cpp<span style=color:#e6db74>}</span>.o  <span style=color:#75715e># /path/to/foo.o</span>
echo <span style=color:#e6db74>${</span>STR%/*<span style=color:#e6db74>}</span>      <span style=color:#75715e># /path/to</span>

echo <span style=color:#e6db74>${</span>STR##*.<span style=color:#e6db74>}</span>     <span style=color:#75715e># cpp (extension)</span>
echo <span style=color:#e6db74>${</span>STR##*/<span style=color:#e6db74>}</span>     <span style=color:#75715e># foo.cpp (basepath)</span>

echo <span style=color:#e6db74>${</span>STR#*/<span style=color:#e6db74>}</span>      <span style=color:#75715e># path/to/foo.cpp</span>
echo <span style=color:#e6db74>${</span>STR##*/<span style=color:#e6db74>}</span>     <span style=color:#75715e># foo.cpp</span>

echo <span style=color:#e6db74>${</span>STR/foo/bar<span style=color:#e6db74>}</span> <span style=color:#75715e># /path/to/bar.cpp</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>STR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;Hello world&#34;</span>
echo <span style=color:#e6db74>${</span>STR:6:5<span style=color:#e6db74>}</span>   <span style=color:#75715e># &#34;world&#34;</span>
echo <span style=color:#e6db74>${</span>STR: -5:5<span style=color:#e6db74>}</span>  <span style=color:#75715e># &#34;world&#34;</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>SRC<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;/path/to/foo.cpp&#34;</span>
BASE<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>SRC##*/<span style=color:#e6db74>}</span>   <span style=color:#75715e>#=&gt; &#34;foo.cpp&#34; (basepath)</span>
DIR<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>SRC%$BASE<span style=color:#e6db74>}</span>  <span style=color:#75715e>#=&gt; &#34;/path/to/&#34; (dirpath)</span>
</code></pre></div><h3 id=substitution>Substitution</h3><table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td><code>${FOO%suffix}</code></td><td>Remove suffix</td></tr><tr><td><code>${FOO#prefix}</code></td><td>Remove prefix</td></tr><tr><td>&mdash;</td><td>&mdash;</td></tr><tr><td><code>${FOO%%suffix}</code></td><td>Remove long suffix</td></tr><tr><td><code>${FOO##prefix}</code></td><td>Remove long prefix</td></tr><tr><td>&mdash;</td><td>&mdash;</td></tr><tr><td><code>${FOO/from/to}</code></td><td>Replace first match</td></tr><tr><td><code>${FOO//from/to}</code></td><td>Replace all</td></tr><tr><td>&mdash;</td><td>&mdash;</td></tr><tr><td><code>${FOO/%from/to}</code></td><td>Replace suffix</td></tr><tr><td><code>${FOO/#from/to}</code></td><td>Replace prefix</td></tr></tbody></table><h3 id=comments>Comments</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Single line comment</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>: <span style=color:#e6db74>&#39;
</span><span style=color:#e6db74>This is a
</span><span style=color:#e6db74>multi line
</span><span style=color:#e6db74>comment
</span><span style=color:#e6db74>&#39;</span>
</code></pre></div><h3 id=substrings>Substrings</h3><table><thead><tr><th>Expression</th><th>Description</th></tr></thead><tbody><tr><td><code>${FOO:0:3}</code></td><td>Substring <em>(position, length)</em></td></tr><tr><td><code>${FOO:(-3):3}</code></td><td>Substring from the right</td></tr></tbody></table><h3 id=length>Length</h3><table><thead><tr><th>Expression</th><th>Description</th></tr></thead><tbody><tr><td><code>${#FOO}</code></td><td>Length of <code>$FOO</code></td></tr></tbody></table><h3 id=manipulation>Manipulation</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>STR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;HELLO WORLD!&#34;</span>
echo <span style=color:#e6db74>${</span>STR,<span style=color:#e6db74>}</span>   <span style=color:#75715e>#=&gt; &#34;hELLO WORLD!&#34; (lowercase 1st letter)</span>
echo <span style=color:#e6db74>${</span>STR,,<span style=color:#e6db74>}</span>  <span style=color:#75715e>#=&gt; &#34;hello world!&#34; (all lowercase)</span>

STR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;hello world!&#34;</span>
echo <span style=color:#e6db74>${</span>STR^<span style=color:#e6db74>}</span>   <span style=color:#75715e>#=&gt; &#34;Hello world!&#34; (uppercase 1st letter)</span>
echo <span style=color:#e6db74>${</span>STR^^<span style=color:#e6db74>}</span>  <span style=color:#75715e>#=&gt; &#34;HELLO WORLD!&#34; (all uppercase)</span>
</code></pre></div><h3 id=default-values>Default values</h3><table><thead><tr><th>Expression</th><th>Description</th></tr></thead><tbody><tr><td><code>${FOO:-val}</code></td><td><code>$FOO</code>, or <code>val</code> if unset (or null)</td></tr><tr><td><code>${FOO:=val}</code></td><td>Set <code>$FOO</code> to <code>val</code> if unset (or null)</td></tr><tr><td><code>${FOO:+val}</code></td><td><code>val</code> if <code>$FOO</code> is set (and not null)</td></tr><tr><td><code>${FOO:?message}</code></td><td>Show error message and exit if <code>$FOO</code> is unset (or null)</td></tr></tbody></table><p>Omitting the <code>:</code> removes the (non)nullity checks, e.g. <code>${FOO-val}</code> expands to <code>val</code> if unset otherwise <code>$FOO</code>.</p><h2 id=loops>Loops</h2><p>{: .-three-column}</p><h3 id=basic-for-loop>Basic for loop</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> i in /etc/rc.*; <span style=color:#66d9ef>do</span>
  echo $i
<span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=c-like-for-loop>C-like for loop</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> <span style=color:#f92672>((</span>i <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span> ; i &lt; <span style=color:#ae81ff>100</span> ; i++<span style=color:#f92672>))</span>; <span style=color:#66d9ef>do</span>
  echo $i
<span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=ranges>Ranges</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> i in <span style=color:#f92672>{</span>1..5<span style=color:#f92672>}</span>; <span style=color:#66d9ef>do</span>
    echo <span style=color:#e6db74>&#34;Welcome </span>$i<span style=color:#e6db74>&#34;</span>
<span style=color:#66d9ef>done</span>
</code></pre></div><h4 id=with-step-size>With step size</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> i in <span style=color:#f92672>{</span>5..50..5<span style=color:#f92672>}</span>; <span style=color:#66d9ef>do</span>
    echo <span style=color:#e6db74>&#34;Welcome </span>$i<span style=color:#e6db74>&#34;</span>
<span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=reading-lines>Reading lines</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>cat file.txt | <span style=color:#66d9ef>while</span> read line; <span style=color:#66d9ef>do</span>
  echo $line
<span style=color:#66d9ef>done</span>
</code></pre></div><h3 id=forever>Forever</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>while</span> true; <span style=color:#66d9ef>do</span>
  ···
<span style=color:#66d9ef>done</span>
</code></pre></div><h2 id=functions-1>Functions</h2><p>{: .-three-column}</p><h3 id=defining-functions>Defining functions</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>myfunc<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
    echo <span style=color:#e6db74>&#34;hello </span>$1<span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Same as above (alternate syntax)</span>
<span style=color:#66d9ef>function</span> myfunc<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
    echo <span style=color:#e6db74>&#34;hello </span>$1<span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>myfunc <span style=color:#e6db74>&#34;John&#34;</span>
</code></pre></div><h3 id=returning-values>Returning values</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>myfunc<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
    local myresult<span style=color:#f92672>=</span><span style=color:#e6db74>&#39;some value&#39;</span>
    echo $myresult
<span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>result<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#66d9ef>$(</span>myfunc<span style=color:#66d9ef>)</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><h3 id=raising-errors>Raising errors</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>myfunc<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
  <span style=color:#66d9ef>return</span> <span style=color:#ae81ff>1</span>
<span style=color:#f92672>}</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> myfunc; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;success&#34;</span>
<span style=color:#66d9ef>else</span>
  echo <span style=color:#e6db74>&#34;failure&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><h3 id=arguments>Arguments</h3><table><thead><tr><th>Expression</th><th>Description</th></tr></thead><tbody><tr><td><code>$#</code></td><td>Number of arguments</td></tr><tr><td><code>$*</code></td><td>All postional arguments (as a single word)</td></tr><tr><td><code>$@</code></td><td>All postitional arguments (as separate strings)</td></tr><tr><td><code>$1</code></td><td>First argument</td></tr><tr><td><code>$_</code></td><td>Last argument of the previous command</td></tr></tbody></table><p><strong>Note</strong>: <code>$@</code> and <code>$*</code> must be quoted in order to perform as described.
Otherwise, they do exactly the same thing (arguments as separate strings).</p><p>See <a href=http://wiki.bash-hackers.org/syntax/shellvars#special_parameters_and_shell_variables>Special parameters</a>.</p><h2 id=conditionals-1>Conditionals</h2><p>{: .-three-column}</p><h3 id=conditions>Conditions</h3><p>Note that <code>[[</code> is actually a command/program that returns either <code>0</code> (true) or <code>1</code> (false). Any program that obeys the same logic (like all base utils, such as <code>grep(1)</code> or <code>ping(1)</code>) can be used as condition, see examples.</p><table><thead><tr><th>Condition</th><th>Description</th></tr></thead><tbody><tr><td><code>[[ -z STRING ]]</code></td><td>Empty string</td></tr><tr><td><code>[[ -n STRING ]]</code></td><td>Not empty string</td></tr><tr><td><code>[[ STRING == STRING ]]</code></td><td>Equal</td></tr><tr><td><code>[[ STRING != STRING ]]</code></td><td>Not Equal</td></tr><tr><td>&mdash;</td><td>&mdash;</td></tr><tr><td><code>[[ NUM -eq NUM ]]</code></td><td>Equal</td></tr><tr><td><code>[[ NUM -ne NUM ]]</code></td><td>Not equal</td></tr><tr><td><code>[[ NUM -lt NUM ]]</code></td><td>Less than</td></tr><tr><td><code>[[ NUM -le NUM ]]</code></td><td>Less than or equal</td></tr><tr><td><code>[[ NUM -gt NUM ]]</code></td><td>Greater than</td></tr><tr><td><code>[[ NUM -ge NUM ]]</code></td><td>Greater than or equal</td></tr><tr><td>&mdash;</td><td>&mdash;</td></tr><tr><td><code>[[ STRING =~ STRING ]]</code></td><td>Regexp</td></tr><tr><td>&mdash;</td><td>&mdash;</td></tr><tr><td><code>(( NUM &lt; NUM ))</code></td><td>Numeric conditions</td></tr></tbody></table><h4 id=more-conditions>More conditions</h4><table><thead><tr><th>Condition</th><th>Description</th></tr></thead><tbody><tr><td><code>[[ -o noclobber ]]</code></td><td>If OPTIONNAME is enabled</td></tr><tr><td>&mdash;</td><td>&mdash;</td></tr><tr><td><code>[[ ! EXPR ]]</code></td><td>Not</td></tr><tr><td><code>[[ X && Y ]]</code></td><td>And</td></tr><tr><td>`[[ X</td><td></td></tr></tbody></table><h3 id=file-conditions>File conditions</h3><table><thead><tr><th>Condition</th><th>Description</th></tr></thead><tbody><tr><td><code>[[ -e FILE ]]</code></td><td>Exists</td></tr><tr><td><code>[[ -r FILE ]]</code></td><td>Readable</td></tr><tr><td><code>[[ -h FILE ]]</code></td><td>Symlink</td></tr><tr><td><code>[[ -d FILE ]]</code></td><td>Directory</td></tr><tr><td><code>[[ -w FILE ]]</code></td><td>Writable</td></tr><tr><td><code>[[ -s FILE ]]</code></td><td>Size is > 0 bytes</td></tr><tr><td><code>[[ -f FILE ]]</code></td><td>File</td></tr><tr><td><code>[[ -x FILE ]]</code></td><td>Executable</td></tr><tr><td>&mdash;</td><td>&mdash;</td></tr><tr><td><code>[[ FILE1 -nt FILE2 ]]</code></td><td>1 is more recent than 2</td></tr><tr><td><code>[[ FILE1 -ot FILE2 ]]</code></td><td>2 is more recent than 1</td></tr><tr><td><code>[[ FILE1 -ef FILE2 ]]</code></td><td>Same files</td></tr></tbody></table><h3 id=example-1>Example</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># String</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> -z <span style=color:#e6db74>&#34;</span>$string<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;String is empty&#34;</span>
<span style=color:#66d9ef>elif</span> <span style=color:#f92672>[[</span> -n <span style=color:#e6db74>&#34;</span>$string<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;String is not empty&#34;</span>
<span style=color:#66d9ef>else</span>
  echo <span style=color:#e6db74>&#34;This never happens&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Combinations</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> X <span style=color:#f92672>&amp;&amp;</span> Y <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  ...
<span style=color:#66d9ef>fi</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Equal</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$A<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;</span>$B<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>]]</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#75715e># Regex</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;A&#34;</span> <span style=color:#f92672>=</span>~ . <span style=color:#f92672>]]</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> <span style=color:#f92672>((</span> $a &lt; $b <span style=color:#f92672>))</span>; <span style=color:#66d9ef>then</span>
   echo <span style=color:#e6db74>&#34;</span>$a<span style=color:#e6db74> is smaller than </span>$b<span style=color:#e6db74>&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> -e <span style=color:#e6db74>&#34;file.txt&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;file exists&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><h2 id=arrays>Arrays</h2><h3 id=defining-arrays>Defining arrays</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Fruits<span style=color:#f92672>=(</span><span style=color:#e6db74>&#39;Apple&#39;</span> <span style=color:#e6db74>&#39;Banana&#39;</span> <span style=color:#e6db74>&#39;Orange&#39;</span><span style=color:#f92672>)</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Fruits<span style=color:#f92672>[</span>0<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;Apple&#34;</span>
Fruits<span style=color:#f92672>[</span>1<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;Banana&#34;</span>
Fruits<span style=color:#f92672>[</span>2<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;Orange&#34;</span>
</code></pre></div><h3 id=working-with-arrays>Working with arrays</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>${</span>Fruits[0]<span style=color:#e6db74>}</span>           <span style=color:#75715e># Element #0</span>
echo <span style=color:#e6db74>${</span>Fruits[-1]<span style=color:#e6db74>}</span>          <span style=color:#75715e># Last element</span>
echo <span style=color:#e6db74>${</span>Fruits[@]<span style=color:#e6db74>}</span>           <span style=color:#75715e># All elements, space-separated</span>
echo <span style=color:#e6db74>${#</span>Fruits[@]<span style=color:#e6db74>}</span>          <span style=color:#75715e># Number of elements</span>
echo <span style=color:#e6db74>${#</span>Fruits<span style=color:#e6db74>}</span>             <span style=color:#75715e># String length of the 1st element</span>
echo <span style=color:#e6db74>${#</span>Fruits[3]<span style=color:#e6db74>}</span>          <span style=color:#75715e># String length of the Nth element</span>
echo <span style=color:#e6db74>${</span>Fruits[@]:3:2<span style=color:#e6db74>}</span>       <span style=color:#75715e># Range (from position 3, length 2)</span>
echo <span style=color:#e6db74>${</span>!Fruits[@]<span style=color:#e6db74>}</span>          <span style=color:#75715e># Keys of all elements, space-separated</span>
</code></pre></div><h3 id=operations>Operations</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>Fruits<span style=color:#f92672>=(</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>Fruits[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;Watermelon&#34;</span><span style=color:#f92672>)</span>    <span style=color:#75715e># Push</span>
Fruits<span style=color:#f92672>+=(</span><span style=color:#e6db74>&#39;Watermelon&#39;</span><span style=color:#f92672>)</span>                  <span style=color:#75715e># Also Push</span>
Fruits<span style=color:#f92672>=(</span> <span style=color:#e6db74>${</span>Fruits[@]/Ap*/<span style=color:#e6db74>}</span> <span style=color:#f92672>)</span>            <span style=color:#75715e># Remove by regex match</span>
unset Fruits<span style=color:#f92672>[</span>2<span style=color:#f92672>]</span>                         <span style=color:#75715e># Remove one item</span>
Fruits<span style=color:#f92672>=(</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>Fruits[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>)</span>                 <span style=color:#75715e># Duplicate</span>
Fruits<span style=color:#f92672>=(</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>Fruits[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span> <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>Veggies[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span><span style=color:#f92672>)</span> <span style=color:#75715e># Concatenate</span>
lines<span style=color:#f92672>=(</span><span style=color:#e6db74>`</span>cat <span style=color:#e6db74>&#34;logfile&#34;</span><span style=color:#e6db74>`</span><span style=color:#f92672>)</span>                 <span style=color:#75715e># Read from file</span>
</code></pre></div><h3 id=iteration>Iteration</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> i in <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>arrayName[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>do</span>
  echo $i
<span style=color:#66d9ef>done</span>
</code></pre></div><h2 id=dictionaries>Dictionaries</h2><p>{: .-three-column}</p><h3 id=defining>Defining</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>declare -A sounds
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>sounds<span style=color:#f92672>[</span>dog<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;bark&#34;</span>
sounds<span style=color:#f92672>[</span>cow<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;moo&#34;</span>
sounds<span style=color:#f92672>[</span>bird<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;tweet&#34;</span>
sounds<span style=color:#f92672>[</span>wolf<span style=color:#f92672>]=</span><span style=color:#e6db74>&#34;howl&#34;</span>
</code></pre></div><p>Declares <code>sound</code> as a Dictionary object (aka associative array).</p><h3 id=working-with-dictionaries>Working with dictionaries</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo <span style=color:#e6db74>${</span>sounds[dog]<span style=color:#e6db74>}</span> <span style=color:#75715e># Dog&#39;s sound</span>
echo <span style=color:#e6db74>${</span>sounds[@]<span style=color:#e6db74>}</span>   <span style=color:#75715e># All values</span>
echo <span style=color:#e6db74>${</span>!sounds[@]<span style=color:#e6db74>}</span>  <span style=color:#75715e># All keys</span>
echo <span style=color:#e6db74>${#</span>sounds[@]<span style=color:#e6db74>}</span>  <span style=color:#75715e># Number of elements</span>
unset sounds<span style=color:#f92672>[</span>dog<span style=color:#f92672>]</span>   <span style=color:#75715e># Delete dog</span>
</code></pre></div><h3 id=iteration-1>Iteration</h3><h4 id=iterate-over-values>Iterate over values</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> val in <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>sounds[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>do</span>
  echo $val
<span style=color:#66d9ef>done</span>
</code></pre></div><h4 id=iterate-over-keys>Iterate over keys</h4><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>for</span> key in <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>!sounds[@]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>; <span style=color:#66d9ef>do</span>
  echo $key
<span style=color:#66d9ef>done</span>
</code></pre></div><h2 id=options>Options</h2><h3 id=options-1>Options</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>set -o noclobber  <span style=color:#75715e># Avoid overlay files (echo &#34;hi&#34; &gt; foo)</span>
set -o errexit    <span style=color:#75715e># Used to exit upon error, avoiding cascading errors</span>
set -o pipefail   <span style=color:#75715e># Unveils hidden failures</span>
set -o nounset    <span style=color:#75715e># Exposes unset variables</span>
</code></pre></div><h3 id=glob-options>Glob options</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>shopt -s nullglob    <span style=color:#75715e># Non-matching globs are removed  (&#39;*.foo&#39; =&gt; &#39;&#39;)</span>
shopt -s failglob    <span style=color:#75715e># Non-matching globs throw errors</span>
shopt -s nocaseglob  <span style=color:#75715e># Case insensitive globs</span>
shopt -s dotglob     <span style=color:#75715e># Wildcards match dotfiles (&#34;*.sh&#34; =&gt; &#34;.foo.sh&#34;)</span>
shopt -s globstar    <span style=color:#75715e># Allow ** for recursive matches (&#39;lib/**/*.rb&#39; =&gt; &#39;lib/a/b/c.rb&#39;)</span>
</code></pre></div><p>Set <code>GLOBIGNORE</code> as a colon-separated list of patterns to be removed from glob
matches.</p><h2 id=history>History</h2><h3 id=commands>Commands</h3><table><thead><tr><th>Command</th><th>Description</th></tr></thead><tbody><tr><td><code>history</code></td><td>Show history</td></tr><tr><td><code>shopt -s histverify</code></td><td>Don&rsquo;t execute expanded result immediately</td></tr></tbody></table><h3 id=expansions>Expansions</h3><table><thead><tr><th>Expression</th><th>Description</th></tr></thead><tbody><tr><td><code>!$</code></td><td>Expand last parameter of most recent command</td></tr><tr><td><code>!*</code></td><td>Expand all parameters of most recent command</td></tr><tr><td><code>!-n</code></td><td>Expand <code>n</code>th most recent command</td></tr><tr><td><code>!n</code></td><td>Expand <code>n</code>th command in history</td></tr><tr><td><code>!&lt;command></code></td><td>Expand most recent invocation of command <code>&lt;command></code></td></tr></tbody></table><h3 id=operations-1>Operations</h3><table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td><code>!!</code></td><td>Execute last command again</td></tr><tr><td><code>!!:s/&lt;FROM>/&lt;TO>/</code></td><td>Replace first occurrence of <code>&lt;FROM></code> to <code>&lt;TO></code> in most recent command</td></tr><tr><td><code>!!:gs/&lt;FROM>/&lt;TO>/</code></td><td>Replace all occurrences of <code>&lt;FROM></code> to <code>&lt;TO></code> in most recent command</td></tr><tr><td><code>!$:t</code></td><td>Expand only basename from last parameter of most recent command</td></tr><tr><td><code>!$:h</code></td><td>Expand only directory from last parameter of most recent command</td></tr></tbody></table><p><code>!!</code> and <code>!$</code> can be replaced with any valid expansion.</p><h3 id=slices>Slices</h3><table><thead><tr><th>Code</th><th>Description</th></tr></thead><tbody><tr><td><code>!!:n</code></td><td>Expand only <code>n</code>th token from most recent command (command is <code>0</code>; first argument is <code>1</code>)</td></tr><tr><td><code>!^</code></td><td>Expand first argument from most recent command</td></tr><tr><td><code>!$</code></td><td>Expand last token from most recent command</td></tr><tr><td><code>!!:n-m</code></td><td>Expand range of tokens from most recent command</td></tr><tr><td><code>!!:n-$</code></td><td>Expand <code>n</code>th token to last from most recent command</td></tr></tbody></table><p><code>!!</code> can be replaced with any valid expansion i.e. <code>!cat</code>, <code>!-2</code>, <code>!42</code>, etc.</p><h2 id=miscellaneous>Miscellaneous</h2><h3 id=numeric-calculations>Numeric calculations</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>$((</span>a <span style=color:#f92672>+</span> <span style=color:#ae81ff>200</span><span style=color:#66d9ef>))</span>      <span style=color:#75715e># Add 200 to $a</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>$((</span>$RANDOM<span style=color:#f92672>%</span><span style=color:#ae81ff>200</span><span style=color:#66d9ef>))</span>  <span style=color:#75715e># Random number 0..199</span>
</code></pre></div><h3 id=subshells>Subshells</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#f92672>(</span>cd somedir; echo <span style=color:#e6db74>&#34;I&#39;m now in </span>$PWD<span style=color:#e6db74>&#34;</span><span style=color:#f92672>)</span>
pwd <span style=color:#75715e># still in first directory</span>
</code></pre></div><h3 id=redirection>Redirection</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>python hello.py &gt; output.txt   <span style=color:#75715e># stdout to (file)</span>
python hello.py &gt;&gt; output.txt  <span style=color:#75715e># stdout to (file), append</span>
python hello.py 2&gt; error.log   <span style=color:#75715e># stderr to (file)</span>
python hello.py 2&gt;&amp;<span style=color:#ae81ff>1</span>           <span style=color:#75715e># stderr to stdout</span>
python hello.py 2&gt;/dev/null    <span style=color:#75715e># stderr to (null)</span>
python hello.py &amp;&gt;/dev/null    <span style=color:#75715e># stdout and stderr to (null)</span>
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>python hello.py &lt; foo.txt      <span style=color:#75715e># feed foo.txt to stdin for python</span>
</code></pre></div><h3 id=inspecting-commands>Inspecting commands</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>command -V cd
<span style=color:#75715e>#=&gt; &#34;cd is a function/alias/whatever&#34;</span>
</code></pre></div><h3 id=trap-errors>Trap errors</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>trap <span style=color:#e6db74>&#39;echo Error at about $LINENO&#39;</span> ERR
</code></pre></div><p>or</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>traperr<span style=color:#f92672>()</span> <span style=color:#f92672>{</span>
  echo <span style=color:#e6db74>&#34;ERROR: </span><span style=color:#e6db74>${</span>BASH_SOURCE[1]<span style=color:#e6db74>}</span><span style=color:#e6db74> at about </span><span style=color:#e6db74>${</span>BASH_LINENO[0]<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
<span style=color:#f92672>}</span>

set -o errtrace
trap traperr ERR
</code></pre></div><h3 id=caseswitch>Case/switch</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>case</span> <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> in
  start | up<span style=color:#f92672>)</span>
    vagrant up
    ;;

  *<span style=color:#f92672>)</span>
    echo <span style=color:#e6db74>&#34;Usage: </span>$0<span style=color:#e6db74> {start|stop|ssh}&#34;</span>
    ;;
<span style=color:#66d9ef>esac</span>
</code></pre></div><h3 id=source-relative>Source relative</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>source <span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>0%/*<span style=color:#e6db74>}</span><span style=color:#e6db74>/../share/foo.sh&#34;</span>
</code></pre></div><h3 id=printf>printf</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>printf <span style=color:#e6db74>&#34;Hello %s, I&#39;m %s&#34;</span> Sven Olga
<span style=color:#75715e>#=&gt; &#34;Hello Sven, I&#39;m Olga</span>

printf <span style=color:#e6db74>&#34;1 + 1 = %d&#34;</span> <span style=color:#ae81ff>2</span>
<span style=color:#75715e>#=&gt; &#34;1 + 1 = 2&#34;</span>

printf <span style=color:#e6db74>&#34;This is how you print a float: %f&#34;</span> <span style=color:#ae81ff>2</span>
<span style=color:#75715e>#=&gt; &#34;This is how you print a float: 2.000000&#34;</span>
</code></pre></div><h3 id=directory-of-script>Directory of script</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>DIR<span style=color:#f92672>=</span><span style=color:#e6db74>&#34;</span><span style=color:#e6db74>${</span>0%/*<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>
</code></pre></div><h3 id=getting-options>Getting options</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>while</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>=</span>~ ^- <span style=color:#f92672>&amp;&amp;</span> ! <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;--&#34;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>do</span> <span style=color:#66d9ef>case</span> $1 in
  -V | --version <span style=color:#f92672>)</span>
    echo $version
    exit
    ;;
  -s | --string <span style=color:#f92672>)</span>
    shift; string<span style=color:#f92672>=</span>$1
    ;;
  -f | --flag <span style=color:#f92672>)</span>
    flag<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
    ;;
<span style=color:#66d9ef>esac</span>; shift; <span style=color:#66d9ef>done</span>
<span style=color:#66d9ef>if</span> <span style=color:#f92672>[[</span> <span style=color:#e6db74>&#34;</span>$1<span style=color:#e6db74>&#34;</span> <span style=color:#f92672>==</span> <span style=color:#e6db74>&#39;--&#39;</span> <span style=color:#f92672>]]</span>; <span style=color:#66d9ef>then</span> shift; <span style=color:#66d9ef>fi</span>
</code></pre></div><h3 id=heredoc>Heredoc</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh>cat <span style=color:#e6db74>&lt;&lt;END
</span><span style=color:#e6db74>hello world
</span><span style=color:#e6db74>END</span>
</code></pre></div><h3 id=reading-input>Reading input</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>echo -n <span style=color:#e6db74>&#34;Proceed? [y/n]: &#34;</span>
read ans
echo $ans
</code></pre></div><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>read -n <span style=color:#ae81ff>1</span> ans    <span style=color:#75715e># Just one character</span>
</code></pre></div><h3 id=special-variables>Special variables</h3><table><thead><tr><th>Expression</th><th>Description</th></tr></thead><tbody><tr><td><code>$?</code></td><td>Exit status of last task</td></tr><tr><td><code>$!</code></td><td>PID of last background task</td></tr><tr><td><code>$$</code></td><td>PID of shell</td></tr><tr><td><code>$0</code></td><td>Filename of the shell script</td></tr></tbody></table><p>See <a href=http://wiki.bash-hackers.org/syntax/shellvars#special_parameters_and_shell_variables>Special parameters</a>.</p><h3 id=go-to-previous-directory>Go to previous directory</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash>pwd <span style=color:#75715e># /home/user/foo</span>
cd bar/
pwd <span style=color:#75715e># /home/user/foo/bar</span>
cd -
pwd <span style=color:#75715e># /home/user/foo</span>
</code></pre></div><h3 id=check-for-commands-result>Check for command&rsquo;s result</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> ping -c <span style=color:#ae81ff>1</span> google.com; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;It appears you have a working internet connection&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><h3 id=grep-check>Grep check</h3><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=color:#66d9ef>if</span> grep -q <span style=color:#e6db74>&#39;foo&#39;</span> ~/.bash_history; <span style=color:#66d9ef>then</span>
  echo <span style=color:#e6db74>&#34;You appear to have typed &#39;foo&#39; in the past&#34;</span>
<span style=color:#66d9ef>fi</span>
</code></pre></div><h2 id=also-see>Also see</h2><ul><li><a href=http://wiki.bash-hackers.org/>Bash-hackers wiki</a> <em>(bash-hackers.org)</em></li><li><a href=http://wiki.bash-hackers.org/syntax/shellvars>Shell vars</a> <em>(bash-hackers.org)</em></li><li><a href=https://learnxinyminutes.com/docs/bash/>Learn bash in y minutes</a> <em>(learnxinyminutes.com)</em></li><li><a href=http://mywiki.wooledge.org/BashGuide>Bash Guide</a> <em>(mywiki.wooledge.org)</em></li></ul></article></section></div></div><footer class="ui basic center aligned segment" style=background-color:transparent><p>© 2010 - 2021 Classroom</p></footer></div></section><section class=back><div class=dream-max-width><header class="ui basic very padded segment dream-header"><div class="ui small circular image"><img src=/img/avatar.jpeg></div><div class=content><h1 class="ui medium header">Classroom Notes & Blog Posts<div class="sub header"></div></h1><article class="ui horizontal list"><a class=item href=/categories><i class="th list icon" title="All Categories"></i></a>
<a class=item href=/tags><i class="tags icon" title="All Tags"></i></a></article><article class=dream-tags><a class="ui label" href=/tags/autopsy/ title=autopsy>autopsy</a>
<a class="ui label" href=/tags/backdoor/ title=backdoor>backdoor</a>
<a class="ui label" href=/tags/bash/ title=bash>bash</a>
<a class="ui label" href=/tags/cheatsheet/ title=cheatsheet>cheatsheet</a>
<a class="ui label" href=/tags/config/ title=config>config</a>
<a class="ui label" href=/tags/dominos/ title=dominos>dominos</a>
<a class="ui label" href=/tags/empire/ title=Empire>Empire</a>
<a class="ui label" href=/tags/encryption/ title=encryption>encryption</a>
<a class="ui label" href=/tags/forensic/ title=forensic>forensic</a>
<a class="ui label" href=/tags/gnupg/ title=gnupg>gnupg</a>
<a class="ui label" href=/tags/hackpark/ title=HackPark>HackPark</a>
<a class="ui label" href=/tags/hydra/ title=hydra>hydra</a>
<a class="ui label" href=/tags/internship/ title=Internship>Internship</a>
<a class="ui label" href=/tags/interview/ title=interview>interview</a>
<a class="ui label" href=/tags/kenobi/ title=kenobi>kenobi</a>
<a class="ui label" href=/tags/lab/ title=lab>lab</a>
<a class="ui label" href=/tags/leaks/ title=leaks>leaks</a>
<a class="ui label" href=/tags/linux/ title=Linux>Linux</a>
<a class="ui label" href=/tags/memory/ title=memory>memory</a>
<a class="ui label" href=/tags/metasploit/ title=metasploit>metasploit</a>
<a class="ui label" href=/tags/mobile/ title=Mobile>Mobile</a>
<a class="ui label" href=/tags/msf/ title=msf>msf</a>
<a class="ui label" href=/tags/msfvenom/ title=msfvenom>msfvenom</a>
<a class="ui label" href=/tags/notes/ title=notes>notes</a>
<a class="ui label" href=/tags/osi/ title=OSI>OSI</a>
<a class="ui label" href=/tags/osi-model/ title="OSI Model">OSI Model</a>
<a class="ui label" href=/tags/pentesting/ title=Pentesting>Pentesting</a>
<a class="ui label" href=/tags/pgp/ title=PGP>PGP</a>
<a class="ui label" href=/tags/pip/ title=pip>pip</a>
<a class="ui label" href=/tags/pip2/ title=pip2>pip2</a>
<a class="ui label" href=/tags/post-exploitation/ title=Post-Exploitation>Post-Exploitation</a>
<a class="ui label" href=/tags/powershell/ title=powershell>powershell</a>
<a class="ui label" href=/tags/putty/ title=putty>putty</a>
<a class="ui label" href=/tags/python/ title=python>python</a>
<a class="ui label" href=/tags/ref/ title=Ref>Ref</a>
<a class="ui label" href=/tags/rooms/ title=rooms>rooms</a>
<a class="ui label" href=/tags/script/ title=script>script</a>
<a class="ui label" href=/tags/scripting/ title=Scripting>Scripting</a>
<a class="ui label" href=/tags/splunk/ title=splunk>splunk</a>
<a class="ui label" href=/tags/stego/ title=stego>stego</a>
<a class="ui label" href=/tags/sysmon/ title=sysmon>sysmon</a>
<a class="ui label" href=/tags/thm/ title=thm>thm</a>
<a class="ui label" href=/tags/tools/ title=tools>tools</a>
<a class="ui label" href=/tags/tryhackme/ title=tryhackme>tryhackme</a>
<a class="ui label" href=/tags/vapt/ title=vapt>vapt</a>
<a class="ui label" href=/tags/volatility/ title=Volatility>Volatility</a>
<a class="ui label" href=/tags/vuln-labs/ title="vuln labs">vuln labs</a>
<a class="ui label" href=/tags/vulnversity/ title=Vulnversity>Vulnversity</a>
<a class="ui label" href=/tags/wireshark/ title=wireshark>wireshark</a></article></div></header><div class="ui relaxed grid dream-grid dream-back"><div class="sixteen wide mobile eight wide tablet four wide computer column dream-column"><article class="ui segment"><h3 class="ui header">Social Links</h3><nav class="ui secondary menu dream-menu dream-socials"><div class=item><a href=/index.xml><i class="large rss square icon" title=RSS></i></a></div><div class=item><a href=mailto:classroom@anir0y.in><i class="large mail icon" title=Email></i></a></div><div class=item><a href=https://twitter.com/anir0y target=_blank><i class="large twitter icon" title=Twitter></i></a></div><div class=item><a href=https://facebook.com/anir0yofficial target=_blank><i class="large facebook icon" title=Facebook></i></a></div><div class=item><a href=https://instagram.com/anir0yofficial target=_blank><i class="large instagram icon" title=Instagram></i></a></div><div class=item><a href=https://www.linkedin.com/in/anir0y target=_blank><i class="large linkedin icon" title=Linkedin></i></a></div><div class=item><a href=https://github.com/anir0y target=_blank><i class="large github icon" title=GitHub></i></a></div></nav></article></div><div class="sixteen wide mobile eight wide tablet four wide computer column dream-column"><article class="ui segment">YOU CAN RESUE MY CONTENT</article></div></div></div></section></div></div><script>window.defaultDark=null,window.backgroundDark="black",window.backgroundImageDark=null,window.darkNav=!0,window.hasTwitterEmbed=!0,window.hasTwitterEmbed&&(window.twttr=function(c,d,e){var b,f=c.getElementsByTagName(d)[0],a=window.twttr||{};return c.getElementById(e)?a:(b=c.createElement(d),b.id=e,b.src='https://platform.twitter.com/widgets.js',f.parentNode.insertBefore(b,f),a._e=[],a.ready=function(b){a._e.push(b)},a)}(document,'script','twitter-wjs'))</script><script src=/js/jquery.min.js></script><script src=/js/semantic.min.js></script><script src=/js/jquery.overlayScrollbars.min.js></script><script src=/js/header.js></script><script src=/js/main.js></script><script src=/js/theme.js></script><script src=/js/html2canvas.min.js></script><script src=/js/post.js></script><script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/highlight.min.js></script><script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/languages/clojure.min.js></script><script src=https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/languages/ocaml.min.js></script><script>hljs.initHighlightingOnLoad(),setHighlightTheme();function setHighlightTheme(){var a=localStore.getItem('hugo-theme-dream-is-dark'),b,c,d;a=a?a:window.defaultDark?'y':a,b="tomorrow",c="tomorrow-night",d=a==='y'?c:b,$('link[data-highlight]').attr('href','https://cdn.jsdelivr.net/gh/highlightjs/cdn-release/build/styles/'+d+'.min.css'),$('pre').css('background',a==='y'?'#333':'')}</script><div class="ui inverted segment" id=dream-search><div class="ui search"><div class="ui transparent input"><input class=prompt type=text placeholder=Search></div><div class=results></div></div></div><script>$(document).ready(function(){$.getJSON('https://classroom.anir0y.in/index.json',function(a){$('.ui.search').search({source:a,searchFields:['title'],showNoResults:!0})})})</script><script src=/js/search.js></script></body></html>